apiVersion: helm.cattle.io/v1
kind: HelmChartConfig
metadata:
  name: vault-unseal
  namespace: vault-unseal
spec:
  valuesContent: |-
    global:
      enabled: true
      tlsDisable: true
    
    server:
      enabled: true
      image:
        repository: hashicorp/vault
        tag: "1.15.2"
      
      serviceAccount:
        create: true
        name: vault-unseal
      
      # Use custom configuration
      extraArgs: |
        -config=/vault/userconfig/vault-unseal.hcl
      
      extraVolumes:
        - type: configMap
          name: vault-unseal-config
          path: /vault/userconfig
      
      # Disable readiness probe during initialization
      readinessProbe:
        enabled: false
      
      # Use filesystem storage for simplicity
      dataStorage:
        enabled: true
        size: 5Gi
        storageClass: ""
      
      # Disable HA for single-node setup
      ha:
        enabled: false
      
      # Disable UI for security
      ui:
        enabled: false
